<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Ember.js - Deprecations for Ember Data v2.x</title>
		<meta property="st:title" content="Ember.js: Deprecations for Ember Data v2.x" />
		<meta property="og:title" content="Ember.js: Deprecations for Ember Data v2.x" />
		<meta property="og:description" content="Ember.js helps developers be more productive out of the box. Designed with developer ergonomics in mind, its friendly APIs help you get your job doneâ€”fast." />
		<meta property="og:image" content="http://emberjs.com/images/tomster-sm.png" />
		<meta name="twitter:card" content="summary" />
		<meta name="twitter:site" content="@emberjs" />
		<meta name="twitter:title" content="Deprecations for Ember Data v2.x"/>
		<meta name="twitter:image" content="http://emberjs.com/images/tomster-twitter-card.png" />
    <link rel="shortcut icon" href="/images/favicon.png" />
    <!--[if lte IE 7 ]><link href="/stylesheets/fonts/fontello-ie7.css" rel="stylesheet" /><![endif]-->
    <link href="/stylesheets/site.css" rel="stylesheet" />
    <link href="/blog/feed.xml" rel="alternate" type="application/atom+xml" title="Ember.js - Blog" />
    
  </head>

  <body class="deprecations deprecations_ember-data deprecations_ember-data_v2 not-responsive">

    <!--[if lt IE 9]>
      <script type="text/javascript" src="/javascripts/common-old-ie.js"></script>
    <![endif]-->
    <!--[if gte IE 9]><!-->
      <script type="text/javascript" src="/javascripts/common-modern.js"></script>
    <!--<![endif]-->

    <header class="header">
  <nav role="navigation" aria-label="main">
    <ul class="header-nav container">
      <li class="header-logo">
        <a href="http://emberjs.com/"><span class="visually-hidden">Ember homepage</span></a>
      <li><a href="/about">About</a></li>
      <li><a href="http://guides.emberjs.com">Guides</a></li>
      <li><a href="/api">API</a></li>
      <li><a href="/community">Community</a></li>
      <li><a href="/blog">Blog</a></li>
      <li><a href="/builds">Builds</a></li>
      <li class="header-search">
        <form>
          <input type="text" id="search-input" class="search-input" placeholder="Search ..."/>
        </form>
      </li>
    </ul>
  </nav>
</header>


    

    <div id="content-wrapper">
        <div id="sidebar">
              <ol id='toc-list'>
    </ol>

          <div id="back-to-top"><a id="back-top-top" href="#">&#11014; Back to Top</a></div>
        </div>
      <div id="content" class="has-sidebar">
        
  <h2 class='anchorable-toc' id='toc_deprecations-added-in-ember-data-2-x'>Deprecations Added in Ember Data 2.x</h2><h3 class='anchorable-toc' id='toc_deprecations-added-in-ember-data-2-3'>Deprecations Added in Ember Data 2.3</h3><h4 class='anchorable-toc' id='toc_non-primitive-defaultvalue-for-model-attributes'>Non-primitive defaultValue for Model Attributes</h4><h6 class='anchorable-toc' id='toc_until-3-0-0'>until: 3.0.0</h6><h6 class='anchorable-toc' id='toc_id-ds-defaultvalue-complex-object'>id: ds.defaultValue.complex-object</h6>
<p>Providing a non-primitive value as a <code>defaultValue</code> has been deprecated because
the provided value is shared between all instances of the model. Using a
non-primitive value, such as <code>defaultValue: []</code>, can lead to unexpected bugs when
that value is mutated.</p>

<p>If you wish to continue using a non-primitive value as the <code>defaultValue</code> for an
attribute, you should provide a function that returns the value:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
</pre></td>
  <td class="code"><pre><span class="reserved">import</span> DS from <span class="string"><span class="delimiter">'</span><span class="content">ember-data</span><span class="delimiter">'</span></span>;

<span class="reserved">export</span> <span class="keyword">default</span> DS.Model.extend({
  <span class="key">username</span>: DS.attr(<span class="string"><span class="delimiter">'</span><span class="content">string</span><span class="delimiter">'</span></span>),
  <span class="key">createdAt</span>: DS.attr(<span class="string"><span class="delimiter">'</span><span class="content">date</span><span class="delimiter">'</span></span>, {
    defaultValue() {
      <span class="keyword">return</span> <span class="keyword">new</span> Date();
    }
  })
});
</pre></td>
</tr></table>
</div></div><h3 class='anchorable-toc' id='toc_deprecations-added-in-ember-data-2-6'>Deprecations Added in Ember Data 2.6</h3><h4 class='anchorable-toc' id='toc_restserializer-normalizehash'>RESTSerializer.normalizeHash</h4><h6 class='anchorable-toc' id='toc_until-3-0-0'>until: 3.0.0</h6><h6 class='anchorable-toc' id='toc_id-ds-serializer-normalize-hash-deprecated'>id: ds.serializer.normalize-hash-deprecated</h6>
<p><code>RESTSerializer.normalizeHash</code> has been deprecated in favor of using <code>normalize</code>.</p>

<p>If you had this:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
</pre></td>
  <td class="code"><pre><span class="reserved">import</span> DS from <span class="string"><span class="delimiter">'</span><span class="content">ember-data</span><span class="delimiter">'</span></span>;

<span class="reserved">export</span> <span class="keyword">default</span> DS.RESTSerializer.extend({
  <span class="key">normalizeHash</span>: {
    <span class="function">_id</span>: <span class="keyword">function</span>(hash) {
      hash.id = hash._id;
      <span class="keyword">delete</span> hash._id;
      <span class="keyword">return</span> hash;
    }
  }
});
</pre></td>
</tr></table>
</div></div>
<p>You could change it to this:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
</pre></td>
  <td class="code"><pre><span class="reserved">import</span> DS from <span class="string"><span class="delimiter">'</span><span class="content">ember-data</span><span class="delimiter">'</span></span>;

<span class="reserved">export</span> <span class="keyword">default</span> DS.RESTSerializer.extend({
  normalize(model, hash, prop) {
    <span class="keyword">if</span> (prop === <span class="string"><span class="delimiter">'</span><span class="content">comments</span><span class="delimiter">'</span></span>) {
      hash.id = hash._id;
      <span class="keyword">delete</span> hash._id;
    }
    <span class="keyword">return</span> <span class="local-variable">this</span>._super(...<span class="local-variable">arguments</span>);
  }
});
</pre></td>
</tr></table>
</div></div><h3 class='anchorable-toc' id='toc_deprecations-added-in-ember-data-2-7'>Deprecations Added in Ember Data 2.7</h3><h4 class='anchorable-toc' id='toc_global-version-of-ds'>Global version of DS</h4><h6 class='anchorable-toc' id='toc_until-3-0-0'>until: 3.0.0</h6><h6 class='anchorable-toc' id='toc_id-ember-data-global-ds'>id: ember-data.global-ds</h6>
<p>Using the global version of DS is deprecated. Import <code>DS</code> or specific modules from <code>ember-data</code> where needed.</p>

<p>For example, if you had:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre><span class="comment">/* globals DS */</span>
</pre></td>
</tr></table>
</div></div>
<p>It would be refactored to:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre><span class="reserved">import</span> DS from <span class="string"><span class="delimiter">'</span><span class="content">ember-data</span><span class="delimiter">'</span></span>;
</pre></td>
</tr></table>
</div></div><h4 class='anchorable-toc' id='toc_ember-date-parse'>Ember.Date.parse</h4><h6 class='anchorable-toc' id='toc_until-3-0-0'>until: 3.0.0</h6><h6 class='anchorable-toc' id='toc_id-ds-ember-date-parse-deprecate'>id: ds.ember.date.parse-deprecate</h6>
<p><code>Ember.Date.parse</code> was created as a <a href="https://github.com/csnover/js-iso8601">progressive enhancement for ISO
8601</a> support in browsers that do not
support it (Safari 5-, IE 8-, Firefox 3.6-). These browsers versions are no
longer supported by Ember or Ember Data so <code>Ember.Date.parse</code> has been
deprecated.</p>

<p>To clear this deprecation you should refactor your application&#39;s code to use
<code>Date.parse</code> instead of <code>Ember.Date.parse</code>.</p>
<h4 class='anchorable-toc' id='toc_date-prototype-extension'>Date Prototype Extension</h4><h6 class='anchorable-toc' id='toc_until-3-0-0'>until: 3.0.0</h6><h6 class='anchorable-toc' id='toc_id-ds-date-parse-deprecate'>id: ds.date.parse-deprecate</h6>
<p>In previous versions of Ember Data, the native <code>Date.parse</code> function was
replaced with <code>Ember.Date.parse</code>, a <a href="https://github.com/csnover/js-iso8601">progressive enhancement for ISO
8601</a> support in browsers that do not
support it (Safari 5-, IE 8-, Firefox 3.6-). Since these browser versions are no
longer supported by Ember or Ember data, this behavior has been deprecated.</p>

<p>To clear this deprecation, you should disable Ember Data&#39;s <code>Date</code> prototype
extension.</p>

<p>With Ember &gt;= v2.7.0, disable the prototype extension for <code>Date</code>:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
</pre></td>
  <td class="code"><pre><span class="comment">// config/environment.js</span>

ENV = {
  <span class="key">EmberENV</span>: {
    <span class="key">EXTEND_PROTOTYPES</span>: {
      <span class="key">Date</span>: <span class="predefined-constant">false</span>
    }
  }
}
</pre></td>
</tr></table>
</div></div>
<p>With Ember &lt; v2.7.0, values must be provided for all prototype extensions:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
</pre></td>
  <td class="code"><pre><span class="comment">// config/environment.js</span>

<span class="keyword">var</span> ENV = {
  <span class="key">EmberENV</span>: {
    <span class="key">EXTEND_PROTOTYPES</span>: {
      <span class="key">Array</span>: <span class="predefined-constant">true</span>,
      <span class="key">Date</span>: <span class="predefined-constant">false</span>,
      <span class="key">Function</span>: <span class="predefined-constant">true</span>,
      <span class="key">String</span>: <span class="predefined-constant">true</span>
    }
  }
};
</pre></td>
</tr></table>
</div></div>
<p>If you&#39;re not sure which prototype extensions your app already has enabled, you
can check <code>EmberENV.EXTEND_PROTOTYPES</code> in your browser&#39;s JavaScript console
while your app is running.</p>

<p>See <a href="https://guides.emberjs.com/v2.10.0/configuring-ember/disabling-prototype-extensions/#toc_strings">Disabling Prototype
Extensions</a>
for more information about how Ember uses prototype extensions.</p>


      </div>
    </div>

    <div class="footer">
  <div class="container">
    <div class="footer-info">
      Copyright 2016
      <a href="http://tilde.io">Tilde Inc.</a>
      <br>
      <a href="http://emberjs.com/team">Team</a> |
      <a href="http://emberjs.com/sponsors">Sponsors</a>
      <br>
      <a href="http://emberjs.com/security">Security</a> |
      <a href="http://emberjs.com/legal">Legal</a> |
      <a href="http://emberjs.com/logos">Logos</a>
      <br>
      <a href="http://emberjs.com/guidelines">Community Guidelines</a>
    </div>

    <div class="footer-statement">
      Ember.js is free, open source and always will be.
    </div>

    <div class="footer-social">
      <a href="http://twitter.com/emberjs" title="Twitter">
        <i class="icon-twitter"></i>
      </a>
      <a href="https://github.com/emberjs/ember.js" title="GitHub">
        <i class="icon-github"></i>
      </a>
      <a href="https://plus.google.com/communities/106387049790387471205" title="Google+">
        <i class="icon-gplus"></i>
      </a>
    </div>
  </div>
</div>


        <script type="text/javascript" src="/javascripts/deprecations.js"></script>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      var pluginUrl = '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
      _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
      _gaq.push(['_setAccount', 'UA-27675533-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>
